---
layout: post
title: 前端模块化- F.I.S
category: advance
---

# 前端模块化

> 随着现代互联网的快速发展，Web2.0、HTML5、HybirdApp等技术的引入，浏览器终端的性能提升，前端开发已经不再仅仅是对制作静态页面或者使用脚本添加一些动态效果和内容，而是承载了更多的业务逻辑与功能。

> 然而作为前端承载的基础，无论是HTTP协议、浏览器内核、JavaScript、CSS等技术，虽然已经有了长足的发展，但是仍然无法满足如今的前端需求，因此为了解决这些先天存在的前端语言能力和性能问题，解决各种问题的手段和框架也层出不穷。而前端模块化就是目前解决这些语言能力问题最热门也是最基础的方法之一。

## 模块化思路

实际上如果是关注前端模块化这个话题的同学肯定已经了解目前业内已经有了比较流行的前端模块化解决方案，比如[RequireJS](www.requirejs.org)或者国内的[Sea.js](http://seajs.org/)，这些模块化解决方案的基本思路均是通过对代码进行静态分析，获取各个脚本模块之间的依赖关系，根据依赖关系在前端进行动态加载。

而按照上述思路实现的模块化解决方案实际上会有其前端局限性，比如相对更复杂的运行库、无法通过逻辑判断声明动态依赖关系、异步加载CSS造成页面闪动、不依赖后端Combo服务会造成连接数爆炸等问题。总结一下就是受前端语言能力所限，纯前端的模块化解决方案很难在复杂项目中完成细粒度的资源管理和性能优化工作。

而FIS在模块化思路上，则从一开始就没有考虑让前端承载过多的处理工作。实际上FIS除了拥有前端项目的压缩、合并等构建能力以外，还可以帮助你产出一份[map.json](/docs/more/mapjson.html)，这份文件实际上是整个FIS体系中非常重要的一环，它描述了整个项目的静态资源的情况，FIS更加推荐利用这份静态资源报表，配合后端模版框架层面来管理页面的静态资源。这种管理模式是非常具有想象力和扩展空间的，不仅更加利于实现模版、脚本、样式的整体模块化能力，而且可以对项目提供更细粒度和更加智能的静态资源管理能力。更加详细的思路和实现方法可以查看[更多文档](/docs/advance/more.html)中的前端工程化内容。

然而虽然FIS推荐采用后端扩展的形式来增强静态资源的管理能力，但是我们也意识到在不同的项目背景下，要求让大家立刻转为使用后端框架管理静态资源是非常困难和片面的。因此我们也结合FIS的静态资源管理思想，实现了一套在构建阶段就能完成静态资源管理的**纯前端**解决方案，而同时又成功保留了简单的运行库、动态加载依赖、智能灵活的资源合并等FIS模块化思想的优势。

## 纯前端解决方案

